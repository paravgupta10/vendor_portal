<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vendor Registrations</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/view_reg.css') }}">  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">
</head>
<body>

  <div class="dashboard-container">
    <h2>All Vendor Registrations</h2>

    {% if vendors %}
      <div class="table-wrapper">
        <table id="vendorTable">
          <thead>
            <tr>
              <th>Company</th>
              <th>Email</th>
              <th>Phone</th>
              <th>Ownership</th>
              <th>Website</th>
              <th>Turnover</th>
              <th>Registered Address</th>
              <th>City</th>
              <th>State</th>
              <th>Country</th>
              <th>Branch Addresses</th>
              <th>GST</th>
              <th>TAN</th>
              <th>Product/Services</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for v in vendors %}
            <tr>
              <td>{{ v.company_name }}</td>
              <td>{{ v.email }}</td>
              <td>{{ v.phone }}</td>
              <td>{{ v.ownership_type }}</td>
              <td>{{ v.website }}</td>
              <td>{{ v.turnover }}</td>
              <td>{{ v.registered_address }}</td>
              <td>{{ v.city }}</td>
              <td>{{ v.state }}</td>
              <td>{{ v.country }}</td>
              <td>{{ v.branch_addresses }}</td>
              <td>{{ v.gst_number }}</td>
              <td>{{ v.tan_number }}</td>
              <td>{{ v.product_services }}</td>
              <td>
                <span class="status-badge 
                  {% if v.status.lower() == 'approved' %}status-approved
                  {% elif v.status.lower() in ['pending', 'on hold'] %}status-pending
                  {% elif v.status.lower() == 'rejected' %}status-rejected
                  {% else %}status-on-hold{% endif %}">
                  {{ v.status|capitalize }}
                </span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p>No registrations found.</p>
    {% endif %}

    <a class="button" href="{{ url_for('admin_dashboard') }}">‚¨Ö Back to Dashboard</a>
  </div>
    <!-- jQuery and DataTables JS -->
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

  <!-- DataTables core -->
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

  <!-- Buttons extension -->
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <script>
  $(document).ready(function () {
    $('#vendorTable').DataTable({
      dom: 'Bfrtip',
      buttons: [
        /*{
          extend: 'copyHtml5',
          text: 'üìã Copy',
          className: 'btn-copy'
        },
        {
          extend: 'csvHtml5',
          text: 'üßæ CSV',
          className: 'btn-csv'
        },*/
        {
          extend: 'excelHtml5',
          text: 'üìä Excel',
          className: 'btn-excel'
        },
      ],
      pageLength: 10,
      lengthMenu: [5, 10, 20, 50, 100],
      order: [],
      language: {
        search: "üîç Filter:"
      }
    });
  });
</script>

</body>
</html>
